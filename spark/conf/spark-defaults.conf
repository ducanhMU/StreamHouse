spark.master                  spark://spark-master:7077
spark.eventLog.enabled        true
spark.eventLog.dir            /opt/spark/event-log
spark.history.fs.logDirectory /opt/spark/event-log

# Kích hoạt extension của Iceberg
spark.sql.extensions = org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Định nghĩa catalog Iceberg dùng Hive Metastore
spark.sql.catalog.iceberg = org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg.type = hive
spark.sql.catalog.iceberg.uri = thrift://hms:9083
spark.sql.catalog.iceberg.warehouse = s3a://warehouse/
spark.sql.catalog.iceberg.io-impl = org.apache.iceberg.aws.s3.S3FileIO
spark.sql.catalog.iceberg.catalog-impl = org.apache.iceberg.hive.HiveCatalog

# Nếu bạn muốn catalog mặc định là “iceberg”
spark.sql.defaultCatalog = iceberg

# Cấu hình S3A / MinIO để Spark truy cập S3
spark.hadoop.fs.s3a.access.key = admin
spark.hadoop.fs.s3a.secret.key = password
spark.hadoop.fs.s3a.endpoint = http://minio:9000
spark.hadoop.fs.s3a.path.style.access = true
spark.hadoop.fs.s3a.connection.ssl.enabled = false
spark.hadoop.fs.s3a.impl = org.apache.hadoop.fs.s3a.S3AFileSystem

# Tùy chọn khác bạn có thể set (nâng hiệu suất, shuffle, partitions…)
spark.sql.shuffle.partitions = 200
spark.sql.adaptive.enabled = true
