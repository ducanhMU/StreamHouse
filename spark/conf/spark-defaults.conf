# ==========================================
# APPLICATION & DEPLOYMENT
# ==========================================
spark.app.name                      JADC2-Pipeline
spark.submit.deployMode             client
spark.master                        local[*]

# ==========================================
# DELTA LAKE & CATALOG
# ==========================================
spark.sql.extensions                io.delta.sql.DeltaSparkSessionExtension
spark.sql.catalog.spark_catalog     org.apache.spark.sql.delta.catalog.DeltaCatalog
spark.databricks.delta.schema.autoMerge.enabled         true

# ==========================================
# HIVE METASTORE INTEGRATION
# ==========================================
spark.sql.catalogImplementation                 hive
spark.hadoop.hive.metastore.uris                thrift://hms:9083
spark.sql.hive.metastore.version                3.1.3
spark.sql.hive.metastore.jars                   maven

# ==========================================
# HDFS CONFIGURATION
# ==========================================
spark.hadoop.fs.defaultFS                       hdfs://namenode:9000
spark.hadoop.dfs.client.use.datanode.hostname   true

# ==========================================
# CLASSPATH
# ==========================================
spark.driver.extraClassPath     /opt/spark/jars/*
spark.executor.extraClassPath   /opt/spark/jars/*

# ==========================================
# OPENMETADATA LINEAGE
# ==========================================
spark.extraListeners                            io.openlineage.spark.agent.OpenLineageSparkListener
spark.openmetadata.transport.type               openmetadata
spark.openmetadata.transport.hostPort           http://openmetadata-server:8585/api
spark.openmetadata.transport.pipelineServiceName    jadc2_spark_pipeline
spark.openmetadata.transport.timeout            30
# Token will be passed via spark-submit command